自我介绍：
面试官你好，我叫胡文笛 2018年毕业于浙大宁波理工学院信息与计算科学专业 
从实习开始一直从事java后端开发的工作，熟悉主流开源技术栈
在上家公司作为团队核心开发参与了一个互联网营销crm saas产品的0-1落地，很享受技术赋能业务带给自己的成就感
目前在趣链科技负责新能源换电saas平台的研发。
平时比较热爱学习，并关注前沿技术方向，心态积极乐观勇于承担责任应对挑战拿到成果
这次离职原因是在自我多次复盘后明确自己职业生涯未来想深耕互联网C端业务，在疫情放开后非常看好旅游业的复苏，
并对机票相关业务领域很感兴趣，想参与其中贡献自己的一份价值

[//]: # (但阿里是我从上学开始一直以来的梦想公司，自己也把加入阿里当作目标不断努力学习沉淀加强自身，因此飞猪是我毫无疑问心目中的第一选择。)

[//]: # (自己当时负责商场大促相关订单库存模块，平时也一直好奇真正的互联网购票业务领域，然后前段时间看到新闻，说我们飞猪机票业务相较19年扩大了4倍，因此鼓起勇气想尝试一下，所以很感谢您给我这次机会。)

项目是一个面向商场集团租户的营销crm saas系统，业务核心价值是解决传统商场crm功能落地痛点，并新增更多主动营销能力，比如大促秒杀/会员资源流转/资金分账等，实现提升客户忠诚度，提高租户销售额等目标
在其中主要负责系统整体架构设计，会员及其资源管理，营销管理三个部分。
项目业务领域大概分为

1. crm核心会员业务领域（会员对象，积分设置对象，等级升降规则设置对象等），主要功能会员生命周期流转/资源获取结算/等级升降等
2. 产品核心营销业务领域（订单业务领域，积分优惠规则对象，等级优惠规则对象等），主要功能商场大促下单，库存扣减，产品核心功能会员资源优惠统一结算下单等
3. 系统支撑业务领域（短信通知对象，第三方支付接口，资金清算跑批），主要功能业务领域事件处理接收处理，通用功能处理等
4. 资金业务领域（资金结算规则配置，商场资金管理），主要功能资金相关业务处理（不是我负责的因此不太清楚具体业务实现）

项目成果：

1. 当时第一次接触到阿里的ddd应用架构相关文章，尝试在我们的项目中做了落地，并在架构逐步演进过程中解决后续遇到的一些痛点，形成了一定方法论
   如跨聚合根查询，支撑项目整体迭代升级
2. 负责了产品核心功能高并发商场大促下单支付模块，在城西银泰8周年庆典时峰值水位达到8000/qps 5台机器的集群，
   掌握了一定高并发c端下单支付业务的处理及实现技术
3. 负责了产品核心功能会员资源优惠统一下单支付结算模块，灵活运用设计模式组合实现了整个模块的业务框架开发封装，实现后续迭代全增量开发

解决思路

1. ddd落地是参照阿里的相关文章，数据库设计这块采用相同的思路，先确定业务领域聚合根，然后在基础设施实现DO和聚合根的转换，
   后续遇到了跨聚合查询痛点，采用洞见的架构设计思路，对复杂查询业务对象整体转换为CQRS模式，读模型直接映射成es文档，在mysql和es同步这块采用canal监听binlog形式实现数据同步
2. 在整体ddd的有力支撑下，采用以“领域事件”为核心的建模思路，将架构升级为事件驱动设计，比如后台审核用户申请退款业务，
   促进业务领域收敛和模块解耦，整体实现是___
3. 针对性的缓存主要是并非全部的聚合根都采用了cqrs，有些简单的聚合根比如设置管理这种，还是采用repository直接find然后映射成dto的方式，
   针对这部分统一引入redis提升性能。
   第二种用法是因为我们选用的配置比较低，为了防止redis本身带宽遇到了瓶颈，所以需要构建了多级缓存，部分基础数据是比如行政区域规划这种直接用hashmap存的，
   然后大促的时候商品的相关信息，也是会事前评估部分有可能特别热点的商品相关数据，直接预热在内存中，然后在事中采用定时扫描该部分数据信息，通过rocketmq广播消息的方式进行集群数据同步（后续可以采用LFU进行优化淘汰）
   针对mq本身我们也有解耦（会员开卡后有一些后置营销操作，初始阶段是写在业务逻辑里的，后面通过mq事件），以及第三方接口的削峰填谷（比如用户支付通知，会员事件触发等，接口侧直接发送mq消息）
4. 事务消息解决分布式事务，比如会员优惠结算，下单时同步冻结积分，接收到支付成功后需要确保积分在消费者做扣减处理业务，采用事务消息。mqtt消息发送场景，
5. 并发编程主要应用，
   1.下单时并发调用第三方接口然后构建订单，最终返回接口结果
   2.跑批任务，比如订单批量退款
   3.并发合并构建c端数据卡片（商场信息，用户信息，商品信息等）
   设计模式实现闪电买单
6. 因为有些租户自己已经有crm系统，但又希望应用我们的营销能力，交互模式是http的请求，针对这种外部系统接口参数不固定采用防腐层设计隔离我们系统的业务领域（比如会员同步接口），spi机制进行扩展的提升工程质量
   限流：guava令牌桶 熔断：第三方系统可靠性比较低，采用租户id+setnx打标签的形式标记是否熔断，根据业务场景决定后续采用降级（发送mq消息，消费者那边重试）还是直接返回（冻结订单失败直接报错）,整体采用模版方法封装

1. 


反问：

1. 团队规模大概大概多少人，微服务集群服务规模呢？
2. 假设我有幸能加入团队，希望我承担怎样的角色，或者期望中的候选人是承担怎样角色？
3. 和你的沟通感觉学到了很多，感觉前面有些问题回答的不是很好，对我未来的职业规划建议？