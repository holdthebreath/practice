```text
还记得第一次面试的时候，面试官问了这个，而我都没有看到过这个关键字...
```

### volatile的重要性

1. volatile是JUC语义的基石
2. 面试时让你手撕DCL单例

### volatile内存语义

```text
volatile是轻量级的synchronized，它在多处理器开发中保证了共享变量的“可见性”。
可见性的意思是当一个线程修改一个共享变量时，另外一个线程能读到这个修改的值。
如果volatile变量修饰符使用恰当的话，它比synchronized的使用和执行成本更低，因为它不会引起线程上下文的切换和调度。

方腾飞,魏鹏,程晓明. Java并发编程的艺术 (Java核心技术系列) (Chinese Edition) (p. 29). 机械工业出版社. Kindle Edition. 
```

核心只要抓住一点，只保证**可见性**。而可见性是线程安全问题中最不好理解的一个概念，
因为习惯了**happens-before**和**as-if-serial**语义给我们营造幻觉中的我们潜意识有了太多“**理所当然**“。
但真实的计算机世界并非如此，**正如生活一样**。
（以我浅薄的经验，最快速理解可见性并不是通过什么内存语义/线程通信这种学术角度，而是通过计算机的组成原理，比如CSAPP的第一章）
